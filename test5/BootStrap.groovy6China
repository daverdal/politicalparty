package test5

class BootStrap {



    def init = { servletContext ->
		    def china = new test5.Country(name:"China").save()

            def hongkong = new test5.Province(name:'Hong Kong').save()
            china.addToProvinces(hongkong)
        		hongkong.addToFedRidings(new test5.FedRiding(name:"Hong Kong Island"))
        		hongkong.addToFedRidings(new test5.FedRiding(name:"Kowloon East"))
        		hongkong.addToFedRidings(new test5.FedRiding(name:"Kowloon West"))
        		hongkong.addToFedRidings(new test5.FedRiding(name:"New Territories East"))
        		hongkong.addToFedRidings(new test5.FedRiding(name:"New Territories West")) 
            def Jilin = new test5.Province(name:'Jilin').save()
            china.addToProvinces(Jilin)
            def Jiangxi = new test5.Province(name:'Jiangxi').save()
            china.addToProvinces(Jiangxi)
            def Jiangsu = new test5.Province(name:'Jiangsu').save()
            china.addToProvinces(Jiangsu)
            def Mongolia = new test5.Province(name:'Inner Mongolia').save()
            china.addToProvinces(Mongolia)
            def Hunan = new test5.Province(name:'Hunan').save()
            china.addToProvinces(Hunan)
            def Hubei = new test5.Province(name:'Hubei').save()
            china.addToProvinces(Hubei)
            def Henan = new test5.Province(name:'Henan').save()
            china.addToProvinces(Henan)
            def Heilongjiang = new test5.Province(name:'Heilongjiang').save()
            china.addToProvinces(Heilongjiang)
            def Hebei = new test5.Province(name:'Hebei').save()
            china.addToProvinces(Hebei)
            def Hainan = new test5.Province(name:'Hainan').save()
            china.addToProvinces(Hainan)
            def Guizhou = new test5.Province(name:'Guizhou').save()
            china.addToProvinces(Guizhou)
            def Guangxi = new test5.Province(name:'Guangxi Zhuang').save()
            china.addToProvinces(Guangxi)
            def Guangdong = new test5.Province(name:'Guangdong').save()
            china.addToProvinces(Guangdong)
            def Gansu = new test5.Province(name:'Gansu').save()
            china.addToProvinces(Gansu)
            def Fujian = new test5.Province(name:'Fujian').save()
            china.addToProvinces(Fujian)
            def Chongqing = new test5.Province(name:'Chongqing').save()
            china.addToProvinces(Chongqing)
            def Beijing = new test5.Province(name:'Beijing').save()
            china.addToProvinces(Beijing)
            def Anhui = new test5.Province(name:'Anhui').save()
            china.addToProvinces(Anhui)
            def Tibet = new test5.Province(name:'Tibet').save()
            china.addToProvinces(Tibet)


               Province.withTransaction { status ->
                 Province.withSession {
                     it.flush()
                     it.clear()
                 }
             }
         Country.withTransaction { status ->
            Country.withSession {
                it.flush()
                it.clear()
            }
        }
    println("this is China done.") 

  }

    def destroy = {
    }
}
